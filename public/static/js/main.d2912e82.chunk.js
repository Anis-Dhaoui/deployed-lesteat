(this["webpackJsonplets-eat"]=this["webpackJsonplets-eat"]||[]).push([[0],{113:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},166:function(e,t,a){},167:function(e,t){window.onload=window.addEventListener("scroll",(function(){var e=document.getElementById("navArea");null!==e&&(window.pageYOffset>331?e.classList.add("is-sticky"):e.classList.contains("is-sticky")&&e.classList.remove("is-sticky"))}))},168:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),c=a(18),i=a.n(c),r=(a(111),a(112),a(113),a(21)),l=a(22),o=a(40),d=a(39),u=a(16),m=a(173),j=a(174),h=a(175),b=a(176),f=a(0),p=function(){return Object(f.jsx)("div",{className:"container py-4 my-4",children:Object(f.jsx)("div",{className:"row justify-content-center",children:Object(f.jsxs)("div",{className:"col-auto my-4",children:[Object(f.jsx)("span",{className:"fa fa-spinner fa-pulse fa-fw fa-3x text-primary"}),Object(f.jsx)("p",{children:"Loading..."})]})})})},g=function(){return Object(f.jsx)("div",{id:"loader",className:""})},x="/",O=a(28);var v=function(e){var t;return Object(s.useEffect)((function(){e.success&&Object(O.flash)(Object(f.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[Object(f.jsx)("strong",{children:"Dish added"}),Object(f.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),3e3)}),[e.success]),e.isLoading?Object(f.jsx)(p,{}):null!==e.isFailed?Object(f.jsxs)("h3",{className:"text-danger",children:[" ",e.isFailed," "]}):(t=e.plates.map((function(t){return Object(f.jsxs)("div",{className:"col-md-6 mt-3",children:[Object(f.jsx)("div",{id:"fav-heart-btn-menu",children:e.authCheck.isAuthenticated?e.favFound&&e.favFound.some((function(e){return e._id===t._id}))?Object(f.jsx)("span",{onClick:function(){return e.deleteFav(t._id)},className:"fa fa-3x fa-heart d-flex justify-content-end"}):Object(f.jsx)("span",{onClick:function(){return e.postLikeDish(t._id)},className:"fa fa-3x fa-heart-o d-flex justify-content-end"}):null}),Object(f.jsx)(u.b,{to:"menu/".concat(t._id),id:"dishes-menu",children:Object(f.jsxs)(m.a,{children:[Object(f.jsx)(j.a,{className:"rounded",top:!0,width:"100%",height:"450px",src:x+t.image,alt:t.name}),Object(f.jsx)(h.a,{children:Object(f.jsx)(b.a,{tag:"h5",children:t.name})})]})})]},t._id)})),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row",children:t}),Object(f.jsx)("div",{style:{zIndex:"9999"},children:Object(f.jsx)(O.Flasher,{position:"top_right"})})]}))},N=a(11),k=a(181),y=a(182),w=a(183),C=a(184),S=a(185),F=a(186),E=a(27),L=a(207),I=a(177),q=a(178),P=a(179),_=a(180),A=a(10),M=(a(155),a(156),a(157),a(15));a(158);function T(e){var t=e.feedback.filter((function(e,t){return t<=2})).map((function(e){return new Date(e.createdAt)})),a=new Date(Math.max.apply(Math,Object(M.a)(t))).toISOString(),s=e.feedback.filter((function(e,t){return t<=2})).map((function(e){return Object(f.jsx)("div",{className:e.createdAt===a?"carousel-item active":"carousel-item",children:Object(f.jsx)("blockquote",{children:Object(f.jsx)("div",{className:"row d-flex justify-content-center",children:Object(f.jsxs)("div",{className:"col-sm-8 col-sm-offset-2",children:[Object(f.jsxs)("p",{children:[" ",e.feedback," "]}),Object(f.jsxs)("small",{children:[e.author?e.author.firstname:e.guestAuthor.firstname," ",e.author?e.author.lastname:e.guestAuthor.lastname]})]})})})},e._id)}));return Object(f.jsx)("div",{className:"col-md-12 ","data-wow-delay":"0.2s",children:Object(f.jsxs)("div",{id:"quote-carousel",className:"carousel slide","data-ride":"carousel","data-interval":"2000",children:[Object(f.jsxs)("ol",{className:"carousel-indicators",children:[Object(f.jsx)("img",{"data-target":"#quote-carousel","data-slide-to":"0",className:"active",src:"/assets/feedback_images/(1).jpg",alt:"2"}),Object(f.jsx)("img",{"data-target":"#quote-carousel","data-slide-to":"1",src:"/assets/feedback_images/(2).jpg",alt:"3"}),Object(f.jsx)("img",{"data-target":"#quote-carousel","data-slide-to":"2",src:"/assets/feedback_images/(25).jpg",alt:"4"})]}),Object(f.jsx)("div",{className:"carousel-inner",children:s}),Object(f.jsxs)("a",{className:"carousel-control-prev xxx",href:"#quote-carousel",role:"button","data-slide":"prev",children:[Object(f.jsx)("i",{className:"fa fa-chevron-left xxx"}),Object(f.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(f.jsxs)("a",{className:"carousel-control-next xxx",href:"#quote-carousel",role:"button","data-slide":"next",children:[Object(f.jsx)("i",{className:"fa fa-chevron-right xxx"}),Object(f.jsx)("span",{className:"sr-only",children:"Next"})]})]})})}var D=function(e){return e},U=function(e,t){return function(a){return!a||a.length>=e&&a.length<=t}},R=function(e){return!e||""!==e&&!isNaN(e)},z=function(e){return!e||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},B=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={},s.handleSubmit=s.handleSubmit.bind(Object(E.a)(s)),s}return Object(l.a)(a,[{key:"handleSubmit",value:function(e){this.props.postFeedback(e),console.log(e),alert(JSON.stringify(e)),this.props.resetForm()}},{key:"renderFeedback",value:function(){return this.props.isLoading?Object(f.jsx)(p,{}):null!==this.props.isFailed?Object(f.jsxs)("h3",{className:"text-danger",children:[" ",this.props.isFailed," "]}):Object(f.jsx)(T,{feedback:this.props.feedback})}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"row my-3",children:this.renderFeedback()}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"container-contact100",children:Object(f.jsxs)("div",{className:"wrap-contact100",children:[Object(f.jsxs)(A.Form,{model:"feedbackx",onSubmit:function(t){return e.handleSubmit(t)},className:"contact100-form validate-form",children:[Object(f.jsx)("span",{className:"contact100-form-title",children:"Send Us Your Feedback"}),this.props.authCheck.isAuthenticated?null:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("label",{className:"label-input100",htmlFor:"first-name",children:"Tell us your name *"}),Object(f.jsxs)("div",{className:"wrap-input100 rs1-wrap-input100 validate-input","data-validate":"Type first name",children:[Object(f.jsx)(A.Control.text,{model:".firstname",id:"first-name",className:"input100",name:"firstname",placeholder:"First name",validators:{required:D,minMaxLength:U(3,10)}}),Object(f.jsx)(A.Errors,{className:"text-danger",model:".firstname",show:"touched",messages:{required:"Required field ",minMaxLength:"Invalid first name"}}),Object(f.jsx)("span",{className:"focus-input100"})]}),Object(f.jsxs)("div",{className:"wrap-input100 rs2-wrap-input100 validate-input","data-validate":"Type last name",children:[Object(f.jsx)(A.Control.text,{model:".lastname",className:"input100",type:"text",name:"lastname",placeholder:"Last name",validators:{required:D,minMaxLength:U(3,10)}}),Object(f.jsx)(A.Errors,{className:"text-danger",model:".lastname",show:"touched",messages:{required:"Required field",minMaxLength:"Invalid last name"}}),Object(f.jsx)("span",{className:"focus-input100"})]}),Object(f.jsx)("label",{className:"label-input100",htmlFor:"email",children:"Enter your email *"}),Object(f.jsxs)("div",{className:"wrap-input100 validate-input","data-validate":"Valid email is required: ex@abc.xyz",children:[Object(f.jsx)(A.Control.text,{model:".email",id:"email",className:"input100",type:"text",name:"email",placeholder:"Eg. example@email.com",validators:{required:D,validEmail:z}}),Object(f.jsx)(A.Errors,{className:"text-danger",model:".email",show:"touched",messages:{required:"Required field ",validEmail:"Invalid email"}}),Object(f.jsx)("span",{className:"focus-input100"})]}),Object(f.jsx)("label",{className:"label-input100",htmlFor:"phone",children:"Enter phone number"}),Object(f.jsxs)("div",{className:"wrap-input100",children:[Object(f.jsx)(A.Control.text,{model:".phone",id:"phone",className:"input100",type:"text",name:"phone",placeholder:"Eg. +1 800 000000",validators:{required:D,minMaxLength:U(8,16),isNumber:R}}),Object(f.jsx)(A.Errors,{className:"text-danger",model:".phone",show:"touched",messages:{required:"Required field ",minMaxLength:"Invalid phone number",isNumber:"Have you ever seen a damn phone number contains letters"}}),Object(f.jsx)("span",{className:"focus-input100"})]})]}),Object(f.jsx)("label",{className:"label-input100",htmlFor:"message",children:"Feedback *"}),Object(f.jsxs)("div",{className:"wrap-input100 validate-input","data-validate":"Message is required",children:[Object(f.jsx)(A.Control.textarea,{model:".feedback",id:"feedback",className:"input100",name:"feedback",placeholder:"Your Feedback",validators:{required:D,minMaxLength:U(4,300)}}),Object(f.jsx)(A.Errors,{className:"text-danger",model:".feedback",show:"touched",messages:{required:"Required field ",minMaxLength:"message must be between 4 and 300 caracters"}}),Object(f.jsx)("span",{className:"focus-input100"})]}),Object(f.jsx)("div",{className:"container-contact100-form-btn",children:Object(f.jsx)("button",{className:"contact100-form-btn",type:"submit",children:"Send Feedback"})})]}),Object(f.jsxs)("div",{className:"contact100-more flex-col-c-m",children:[Object(f.jsxs)("div",{className:"flex-w size1 p-b-47",children:[Object(f.jsx)("div",{className:"txt1 p-r-25",children:Object(f.jsx)("span",{className:"lnr lnr-map-marker"})}),Object(f.jsxs)("div",{className:"flex-col size2",children:[Object(f.jsx)("span",{className:"txt1 p-b-20",children:"Address"}),Object(f.jsx)("span",{className:"txt2",children:"Mada Center 8th floor, 379 Hudson St, New York, NY 10018 US"})]})]}),Object(f.jsxs)("div",{className:"dis-flex size1 p-b-47",children:[Object(f.jsx)("div",{className:"txt1 p-r-25",children:Object(f.jsx)("span",{className:"lnr lnr-phone-handset"})}),Object(f.jsxs)("div",{className:"flex-col size2",children:[Object(f.jsx)("span",{className:"txt1 p-b-20",children:"Lets Talk"}),Object(f.jsx)("span",{className:"txt3",children:"+1 800 1236879"})]})]}),Object(f.jsxs)("div",{className:"dis-flex size1 p-b-47",children:[Object(f.jsx)("div",{className:"txt1 p-r-25",children:Object(f.jsx)("span",{className:"lnr lnr-envelope"})}),Object(f.jsxs)("div",{className:"flex-col size2",children:[Object(f.jsx)("span",{className:"txt1 p-b-20",children:"General Support"}),Object(f.jsx)("span",{className:"txt3",children:"contact@example.com"})]})]})]})]})})})]})}}]),a}(s.Component),J=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={isModalOpen:!1},s.toggleModal=s.toggleModal.bind(Object(E.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(E.a)(s)),s}return Object(l.a)(a,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"handleSubmit",value:function(e){this.toggleModal(),this.props.postComment(this.props.dishId,e.rate,e.comment)}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(f.Fragment,{children:[this.props.loginCheck.isAuthenticated?Object(f.jsx)("button",{type:"button",className:"btn btn-outline-primary offset-5",onClick:this.toggleModal,children:"Comment"}):Object(f.jsx)("button",{type:"button",className:"btn btn-outline-primary offset-5",onClick:this.onLoginClick,children:"Comment"}),Object(f.jsxs)(L.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(f.jsx)(I.a,{toggle:this.toggleModal,children:"Add a comment"}),Object(f.jsx)(q.a,{children:Object(f.jsxs)(A.LocalForm,{onSubmit:function(t){return e.handleSubmit(t)},className:"p-3",children:[Object(f.jsxs)(P.a,{className:"form-group",children:[Object(f.jsx)(_.a,{htmlFor:"rating",children:"Rating"}),Object(f.jsxs)("div",{className:"rating",children:[Object(f.jsx)(A.Control.radio,{defaultValue:"1",model:".rate",className:"form-control",name:"rating",value:"5",id:"5"}),Object(f.jsx)("label",{htmlFor:"5",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".rate",className:"form-control",name:"rating",value:"4",id:"4"}),Object(f.jsx)("label",{htmlFor:"4",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".rate",className:"form-control",name:"rating",value:"3",id:"3"}),Object(f.jsx)("label",{htmlFor:"3",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".rate",className:"form-control",name:"rating",value:"2",id:"2"}),Object(f.jsx)("label",{htmlFor:"2",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".rate",className:"form-control",name:"rating",value:"1",id:"1"}),Object(f.jsx)("label",{htmlFor:"1",children:"\u2606"})]})]}),Object(f.jsxs)(P.a,{className:"form-group",children:[Object(f.jsx)(_.a,{htmlFor:"comment",children:"Comment"}),Object(f.jsx)(A.Control.textarea,{model:".comment",className:"form-control",name:"comment",id:"comment",placeholder:"Type your comment",rows:5,validators:{required:D,minMaxLength:U(4,500)}}),Object(f.jsx)(A.Errors,{className:"text-danger",model:".comment",show:"touched",messages:{required:"Required field",minMaxLength:"Comment lenght should be between 4-500"}})]}),Object(f.jsx)(P.a,{className:"form-group",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-outline-primary",children:"Submit"})})]})})]})]})}}]),a}(s.Component),Y=a(47),H=(a(80),a(32)),V=a.n(H);var W=function(e){var t,a,n,c,i=Object(s.useState)(""),r=Object(N.a)(i,2),l=r[0],o=r[1];return Object(s.useEffect)((function(){V()("#updated-comment-form :input").on("change",(function(){V()("#updated-comment-form").data("changed",!0)}))})),Object(f.jsxs)("div",{className:"row mt-3",children:[Object(f.jsx)("div",{className:"col-md-6",children:(c=e.plate,e.isLoading?Object(f.jsx)(p,{}):null!==e.isFailed?Object(f.jsxs)("h3",{className:"text-danger text-center",children:[" ",e.isFailed," "]}):null!=c?Object(f.jsxs)(m.a,{id:"dish-detail",children:[Object(f.jsx)(j.a,{width:"100%",height:"500px",src:x+c.image,alt:c.name}),Object(f.jsx)(h.a,{id:"fav-heart-btn-menu",children:e.authCheck.isAuthenticated?e.favFound?Object(f.jsx)("span",{onClick:function(){return e.deleteFav(c._id)},color:"primary",className:"fa fa-3x fa-heart d-flex justify-content-end"}):Object(f.jsx)("span",{onClick:function(){return e.postLikeDish(c._id)},className:"fa fa-3x fa-heart-o d-flex justify-content-end"}):null}),Object(f.jsxs)(k.a,{children:[Object(f.jsx)(b.a,{tag:"h5",children:c.name}),Object(f.jsx)(y.a,{children:c.description})]})]}):void 0)}),Object(f.jsxs)("div",{className:"col-md-6",children:[Object(f.jsx)("h4",{className:"my-4 my-md-2 text-center",children:"Comments"}),(t=e.comments,a=e.commentsLoading,n=e.commentsFailed,a?Object(f.jsx)(p,{}):null!==n?Object(f.jsxs)("h3",{className:"text-danger text-center",children:[" ",n," "]}):t.map((function(t){var a=t.updatedAt.split("-"),s=new Date(a[0],a[1]-1,a[2].slice(0,2)).toDateString();return Object(f.jsx)("div",{children:l===t._id?Object(f.jsx)(A.LocalForm,{id:"updated-comment-form",onSubmit:function(a){return function(t,a){var s={rating:a.updatedRate,comment:a.updatedComment};V()("#updated-comment-form").data("changed")?e.updateComment(e.plate._id,t,s):console.log("Nothing was edited in the form fields, I'm not gonna bother the server"),o("")}(t._id,a)},children:Object(f.jsxs)(w.a,{className:"mb-2",children:[Object(f.jsx)(C.a,{style:{backgroundColor:"gray"},children:Object(f.jsxs)("div",{className:"rating",children:[Object(f.jsx)(A.Control.radio,{defaultValue:t.rating.toString(),model:".updatedRate",className:"form-control",name:"updateRating",value:"5",id:"update5"}),Object(f.jsx)("label",{htmlFor:"update5",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".updatedRate",className:"form-control",name:"updateRating",value:"4",id:"update4"}),Object(f.jsx)("label",{htmlFor:"update4",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".updatedRate",className:"form-control",name:"updateRating",value:"3",id:"update3"}),Object(f.jsx)("label",{htmlFor:"update3",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".updatedRate",className:"form-control",name:"updateRating",value:"2",id:"update2"}),Object(f.jsx)("label",{htmlFor:"update2",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".updatedRate",className:"form-control",name:"updateRating",value:"1",id:"update1"}),Object(f.jsx)("label",{htmlFor:"update1",children:"\u2606"})]})}),Object(f.jsx)(A.Control.textarea,{model:".updatedComment",className:"form-control",name:"updatedComment",id:"updatedComment",validators:{required:D,minMaxLength:U(4,500)},defaultValue:t.comment,autoFocus:!0,onInput:function(e){return(t=e).target.style.overflow="visible",void(t.target.style.height=t.target.scrollHeight+"px");var t}}),Object(f.jsx)(A.Errors,{className:"text-danger",model:".comment",show:"touched",messages:{required:"Required field",minMaxLength:"Comment lenght should be between 4-200"}}),Object(f.jsx)(C.a,{className:"ml-auto p-0",children:Object(f.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(f.jsx)("button",{type:"submit",style:{marginRight:"2px"},className:"btn btn-success",children:"Done"}),Object(f.jsx)("button",{onClick:function(){return o("")},type:"button",className:"btn btn-danger",children:"Cancel"})]})})]},t._id)}):Object(f.jsxs)(w.a,{className:"mb-2",children:[Object(f.jsx)(C.a,{className:"",style:{backgroundColor:"gray"},children:Object(f.jsxs)(S.a,{className:"",children:[t.author.firstname," ",t.author.lastname,Object(f.jsxs)(A.LocalForm,{className:"rating rating-view-only",style:{position:"absolute",right:"0",bottom:"0",margin:"0 10px 5px 0"},children:[Object(f.jsx)(A.Control.radio,{defaultValue:t.rating.toString(),model:".ratedStars",disabled:!0,className:"form-control",name:"ratedStars",value:"5",id:"star5"}),Object(f.jsx)("label",{htmlFor:"star5",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".ratedStars",disabled:!0,className:"form-control",name:"ratedStars",value:"4",id:"star4"}),Object(f.jsx)("label",{htmlFor:"star4",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".ratedStars",disabled:!0,className:"form-control",name:"ratedStars",value:"3",id:"star3"}),Object(f.jsx)("label",{htmlFor:"star3",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".ratedStars",disabled:!0,className:"form-control",name:"ratedStars",value:"2",id:"star2"}),Object(f.jsx)("label",{htmlFor:"star2",children:"\u2606"}),Object(f.jsx)(A.Control.radio,{model:".ratedStars",disabled:!0,className:"form-control",name:"ratedStars",value:"1",id:"star1"}),Object(f.jsx)("label",{htmlFor:"star1",children:"\u2606"})]})]})}),Object(f.jsxs)(C.a,{children:[Object(f.jsxs)(F.a,{children:[" ",t.comment," "]}),Object(f.jsxs)("i",{style:{color:"darkblue",position:"absolute",right:"0",bottom:"0",margin:"0 10px 5px 0"},children:[" ",s," "]})]}),e.authCheck.user&&e.authCheck.user.username===t.author.username?Object(f.jsx)(C.a,{className:"ml-auto p-0",children:Object(f.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(f.jsx)("button",{onClick:function(){return o(t._id)},style:{marginRight:"2px"},type:"button",className:"btn btn-secondary",children:"Edit"}),Object(f.jsx)("button",{onClick:function(){return a=e.plate._id,s=t._id,void Object(Y.confirmAlert)({customUI:function(t){var n=t.onClose;return Object(f.jsxs)("div",{className:"custom-ui",children:[Object(f.jsx)("h3",{children:"Are you sure?"}),Object(f.jsx)("p",{className:"text-danger",children:"You want to delete this comment?"}),Object(f.jsx)("button",{onClick:n,children:"No, Cancel"}),Object(f.jsx)("button",{className:"text-danger",onClick:function(){e.deleteComment(a,s),n()},children:"Yes, Delete!"})]})}});var a,s},type:"button",className:"btn btn-danger",children:"Delete"})]})}):null]})},t._id)}))),void 0!==e.plate?Object(f.jsx)(J,{postComment:e.postComment,dishId:e.plate._id,loginCheck:e.authCheck}):null]})]})},G=a(191),Z=a(192),$=a(193),Q=a(194),K=a(195),X=a(196),ee=a(197),te=(a(166),a(167),a(104)),ae=a(187),se=a(188),ne=a(189),ce=a(190),ie=[{src:"/assets/Carousel_Images/image_1.jpg",altText:"Slide 1",caption:"Slide 1"},{src:"/assets/Carousel_Images/image_2.jpg",altText:"Slide 2",caption:"Slide 2"},{src:"/assets/Carousel_Images/image_3.jpg",altText:"Slide 3",caption:"Slide 3"}],re=function(e){var t=Object(s.useState)(0),a=Object(N.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(!1),r=Object(N.a)(i,2),l=r[0],o=r[1],d=function(){if(!l){var e=n===ie.length-1?0:n+1;c(e)}},u=function(){if(!l){var e=0===n?ie.length-1:n-1;c(e)}},m=ie.map((function(e){return Object(f.jsxs)(te.a,{onExiting:function(){return o(!0)},onExited:function(){return o(!1)},children:[Object(f.jsx)("img",{src:e.src,alt:e.altText,width:"100%",height:"400px"}),Object(f.jsx)("div",{className:"carousel-overlay"}),Object(f.jsx)(ae.a,{captionText:e.caption,captionHeader:e.caption,style:{display:"block"}})]},e.src)}));return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(se.a,{activeIndex:n,next:d,previous:u,children:[Object(f.jsx)(ne.a,{items:ie,activeIndex:n,onClickHandler:function(e){l||c(e)}}),m,Object(f.jsx)(ce.a,{direction:"prev",directionText:"Previous",onClickHandler:u}),Object(f.jsx)(ce.a,{direction:"next",directionText:"Next",onClickHandler:d})]})})};a(168);function le(e){return Object(s.useEffect)((function(){null!==e.authCheck.errMsg&&e.toggleSignIn()}),[e.authCheck.errMsg]),Object(f.jsx)(L.a,{isOpen:e.isSignInOpen,toggle:e.toggleSignIn,contentClassName:"login-modal",children:Object(f.jsxs)("div",{className:"login-card",children:[Object(f.jsxs)("div",{className:"card-header",children:[Object(f.jsx)(I.a,{toggle:e.toggleSignIn,className:"text-primary mt-2",children:"Sign In"}),Object(f.jsxs)("div",{className:"d-flex justify-content-end social_icon",children:[Object(f.jsx)("span",{children:Object(f.jsx)("i",{className:"fa fa-facebook-square"})}),Object(f.jsx)("span",{children:Object(f.jsx)("i",{className:"fa fa-google-plus-square"})}),Object(f.jsx)("span",{children:Object(f.jsx)("i",{className:"fa fa-twitter-square"})})]})]}),Object(f.jsx)("div",{className:"card-body",children:Object(f.jsxs)("form",{onSubmit:function(t){return a=t,e.login({username:a.target[0].value,password:a.target[1].value}),e.toggleSignIn(),void a.preventDefault();var a},children:[Object(f.jsxs)("div",{className:"input-group form-group",children:[Object(f.jsx)("div",{className:"input-group-prepend",children:Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("i",{className:"fa fa-user"})})}),Object(f.jsx)("input",{type:"text",className:"form-control",placeholder:"username",required:!0,autoFocus:!0})]}),e.authCheck.errMsg&&"User not found"===e.authCheck.errMsg?Object(f.jsx)("div",{style:{fontSize:"12px",padding:"10px",marginTop:"-10px"},className:"alert-danger alert",children:e.authCheck.errMsg}):null,Object(f.jsxs)("div",{className:"input-group form-group",children:[Object(f.jsx)("div",{className:"input-group-prepend",children:Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("i",{className:"fa fa-key"})})}),Object(f.jsx)("input",{type:"password",className:"form-control",placeholder:"password",required:!0})]}),e.authCheck.errMsg&&"Password is incorrect"===e.authCheck.errMsg?Object(f.jsx)("div",{style:{fontSize:"12px",padding:"10px",marginTop:"-10px"},className:"alert-danger alert",children:e.authCheck.errMsg}):null,Object(f.jsxs)("div",{className:"row align-items-center remember",children:[Object(f.jsx)("input",{type:"checkbox"}),"Remember Me"]}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsx)("input",{type:"submit",value:"Login",className:"btn float-right login_btn"})})]})}),Object(f.jsxs)("div",{className:"card-footer",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-center links",children:["Don't have an account?",Object(f.jsx)("span",{style:{color:"yellow",cursor:"pointer"},onClick:function(){e.toggleSignUp(),e.toggleSignIn()},children:"Sign Up"})]}),Object(f.jsx)("div",{className:"d-flex justify-content-center",children:Object(f.jsx)("a",{href:"/home",children:"Forgot your password?"})})]})]})})}var oe=a(7),de=a(34);var ue=function(e){var t=Object(de.b)({mode:"all"}),a=t.register,s=t.handleSubmit,n=t.formState.errors;return Object(f.jsxs)(L.a,{style:{backgroundColor:"white"},isOpen:e.isSignupOpen,toggle:e.toggleSignUp,contentClassName:"login-modal p-3",children:[Object(f.jsxs)(I.a,{toggle:e.toggleSignUp,className:"text-primary",children:[Object(f.jsx)("i",{className:"fa fa-user-plus fa-4x"}),"Sign Up"]}),Object(f.jsxs)("form",{onSubmit:s((function(t){e.toggleSignUp(),e.signup(t)})),children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"firstname",children:"First name"}),Object(f.jsx)("input",Object(oe.a)({name:"firstname",type:"text",placeholder:"First name",className:n.firstname?"form-control is-invalid":" form-control is-valid"},a("firstname",{required:"Required field",minLength:{value:3,message:"First name should have at least 3 caracters"},maxLength:{value:10,message:"First name should have at most 10 caracters"}}))),n.firstname&&Object(f.jsx)("div",{className:"invalid-feedback",children:n.firstname.message})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"lastname",children:"Last name"}),Object(f.jsx)("input",Object(oe.a)({name:"lastname",type:"text",placeholder:"Last name",className:n.lastname?"form-control is-invalid":" form-control is-valid"},a("lastname",{required:"Required field",minLength:{value:3,message:"Last name should have at least 3 caracters"},maxLength:{value:10,message:"Last name should have at most 10 caracters"}}))),n.lastname&&Object(f.jsx)("div",{className:"invalid-feedback",children:n.lastname.message})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"email",children:"Email"}),Object(f.jsx)("input",Object(oe.a)({name:"email",type:"text",placeholder:"Email",className:n.email?"form-control is-invalid":" form-control is-valid"},a("email",{required:"Required field",pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Email is not valid."}}))),n.email&&Object(f.jsx)("div",{className:"invalid-feedback",children:n.email.message})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",Object(oe.a)({name:"username",type:"text",placeholder:"Username",className:n.username?"form-control is-invalid":" form-control is-valid"},a("username",{required:"Required field",minLength:{value:3,message:"Username should have at least 3 caracters"},maxLength:{value:10,message:"Username should have at most 10 caracters"}}))),n.username&&Object(f.jsx)("div",{className:"invalid-feedback",children:n.username.message})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",Object(oe.a)({name:"password",type:"password",placeholder:"Password",className:n.password?"form-control is-invalid":" form-control is-valid"},a("password",{required:"Required field",validate:function(e){return!(e.length<6)||"Password should be at-least 6 characters."}}))),n.password&&Object(f.jsx)("div",{className:"invalid-feedback",children:n.password.message})]}),Object(f.jsx)("div",{className:"form-group",children:n.firstname||n.lastname||n.email||n.username||n.password?Object(f.jsxs)("button",{type:"submit",className:"btn btn-danger btn-block",children:[Object(f.jsx)("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"})," Error "]}):Object(f.jsxs)("button",{type:"submit",className:"btn btn-success btn-block",children:[Object(f.jsx)("i",{className:"fa fa-user-plus"})," Sign up "]})})]})]})},me=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).handleLogout=function(){Object(Y.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(f.jsxs)("div",{className:"custom-ui",children:[Object(f.jsx)("h3",{children:"Are you sure?"}),Object(f.jsx)("p",{children:"You want to logout?"}),Object(f.jsx)("button",{onClick:t,children:"No, Cancel"}),Object(f.jsx)("button",{onClick:function(){s.props.logoutUser(),t()},children:"Yes, Logout!"})]})}})},s.state={isNavOpen:!1,isSignupOpen:!1,isSignInOpen:!1,showAlert:!0},s.toggleNav=s.toggleNav.bind(Object(E.a)(s)),s.toggleSignUp=s.toggleSignUp.bind(Object(E.a)(s)),s.toggleSignIn=s.toggleSignIn.bind(Object(E.a)(s)),s}return Object(l.a)(a,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"toggleSignIn",value:function(){this.setState({isSignInOpen:!this.state.isSignInOpen})}},{key:"toggleSignUp",value:function(){this.setState({isSignupOpen:!this.state.isSignupOpen})}},{key:"render",value:function(){return Object(f.jsxs)(n.a.Fragment,{children:[this.props.authCheck.isLoading?Object(f.jsx)(g,{}):null,Object(f.jsxs)(G.a,{id:"navArea",light:!0,expand:"md",children:[Object(f.jsx)(Z.a,{className:"logo",href:"/",children:Object(f.jsx)("img",{src:"../assets/images/logo.png",alt:"Restaurant Logo"})}),Object(f.jsx)($.a,{id:"avatar-user",className:"login-btn-nav d-block d-md-none",navbar:!0,children:this.props.authCheck.isAuthenticated?Object(f.jsxs)("div",{className:"nav-item avatar-mobile dropdown",children:[Object(f.jsxs)("button",{"data-toggle":"dropdown",className:"nav-link",style:{color:"white"},children:[Object(f.jsx)("img",{src:"/assets/feedback_images/(10).jpg",className:"rounded-circle avatar",width:"50px",height:"50px",alt:"Avatar"})," "," ",this.props.authCheck.user.username]}),Object(f.jsxs)("div",{className:"dropdown-menu ml-n5",children:[Object(f.jsxs)("h6",{className:"dropdown-item",children:[" ",this.props.authCheck.user.firstname+" "+this.props.authCheck.user.lastname,"  "]}),Object(f.jsxs)("button",{className:"dropdown-item",children:[Object(f.jsx)("i",{className:"fa fa-user-o"})," Profile"]}),Object(f.jsx)("div",{className:"dropdown-divider"}),Object(f.jsxs)("button",{onClick:this.handleLogout,className:"dropdown-item",children:[this.props.authCheck.isLoading?Object(f.jsx)("span",{className:"fa fa-spinner fa-pulse fa-fw mr-1"}):Object(f.jsx)("i",{className:"fa fa-power-off mr-1"}),"Logout"]})]})]}):null}),Object(f.jsx)(Q.a,{onClick:this.toggleNav,className:"bg-primary"}),Object(f.jsxs)(K.a,{isOpen:this.state.isNavOpen,navbar:!0,children:[Object(f.jsxs)($.a,{className:"mx-auto",navbar:!0,children:[Object(f.jsx)(X.a,{className:"btn-outline-success rounded",onClick:this.toggleNav,children:Object(f.jsxs)(u.b,{to:"/home",className:"nav-link",children:[Object(f.jsx)("span",{className:"fa fa-home"})," Home"]})}),Object(f.jsx)(X.a,{className:"btn-outline-success rounded",onClick:this.toggleNav,children:Object(f.jsxs)(u.b,{to:"/about",className:"nav-link",children:[Object(f.jsx)("span",{className:"fa fa-info"})," About"]})}),Object(f.jsx)(X.a,{className:"btn-outline-success rounded",onClick:this.toggleNav,children:Object(f.jsxs)(u.b,{to:"/menu",className:"nav-link",children:[Object(f.jsx)("span",{className:"fa fa-list"})," Menu"]})}),Object(f.jsx)(X.a,{className:"btn-outline-success rounded",onClick:this.toggleNav,children:Object(f.jsxs)(u.b,{to:"/contact",className:"nav-link",children:[Object(f.jsx)("span",{className:"fa fa-envelope"})," Contact"]})}),Object(f.jsx)(X.a,{className:"btn-outline-success rounded",onClick:this.toggleNav,children:Object(f.jsxs)(u.b,{to:this.props.authCheck.isAuthenticated?"/wishlist":"/",className:(this.props.authCheck.isAuthenticated,"nav-link"),onClick:this.props.authCheck.isAuthenticated?null:this.toggleSignIn,children:[Object(f.jsx)("span",{className:"fa fa-bookmark"})," Wish List"]})})]}),Object(f.jsx)($.a,{id:"avatar-user",className:"login-btn-nav",navbar:!0,children:this.props.authCheck.isAuthenticated?Object(f.jsxs)("div",{className:"nav-item dropdown d-none d-md-block",children:[Object(f.jsxs)("button",{"data-toggle":"dropdown",className:"nav-link",style:{color:"white"},children:[Object(f.jsx)("img",{src:"/assets/feedback_images/(10).jpg",className:"rounded-circle avatar",width:"50px",height:"50px",alt:"Avatar"})," "," ",this.props.authCheck.user.username]}),Object(f.jsxs)("div",{className:"dropdown-menu ml-n5",children:[Object(f.jsxs)("h6",{className:"dropdown-item",children:[" ",this.props.authCheck.user.firstname+" "+this.props.authCheck.user.lastname,"  "]}),Object(f.jsxs)("button",{className:"dropdown-item",children:[Object(f.jsx)("i",{className:"fa fa-user-o"})," Profile"]}),Object(f.jsx)("div",{className:"dropdown-divider"}),Object(f.jsxs)("button",{onClick:this.handleLogout,className:"dropdown-item",children:[this.props.authCheck.isLoading?Object(f.jsx)("span",{className:"fa fa-spinner fa-pulse fa-fw mr-1"}):Object(f.jsx)("i",{className:"fa fa-power-off mr-1"}),"Logout"]})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(X.a,{className:"mr-2 order-12 order-md-1",onClick:this.toggleNav,children:[Object(f.jsx)(ee.a,{className:"d-none d-md-block",id:"login-btn",outline:!0,color:"success",onClick:this.toggleSignUp,children:Object(f.jsx)("span",{className:"fa fa-chevron-up fa-lg",children:" Signup "})}),Object(f.jsxs)(u.b,{onClick:this.toggleSignUp,className:"nav-link d-block d-md-none ml-0 py-1",children:[Object(f.jsx)("span",{className:"fa fa-chevron-up fa-lg"})," SignUp"]})]}),Object(f.jsxs)(X.a,{className:"order-1 order-md-12",onClick:this.toggleNav,children:[Object(f.jsx)(ee.a,{className:"d-none d-md-block",id:"login-btn",outline:!0,color:"primary",onClick:this.toggleSignIn,children:this.props.authCheck.isLoading?Object(f.jsx)("span",{className:"fa fa-spinner fa-pulse fa-fw"}):Object(f.jsx)("span",{className:"fa fa-sign-in fa-lg",children:" SignIn "})}),Object(f.jsxs)(u.b,{onClick:this.toggleSignIn,className:"nav-link d-block d-md-none ml-0",children:[Object(f.jsx)("span",{className:"fa fa-sign-in fa-lg"})," SignIn"]})]})]})})]})]}),Object(f.jsx)("div",{className:"container-fluid pl-0 pr-0",style:{paddingTop:"0px"},children:Object(f.jsx)(re,{})}),Object(f.jsx)(le,{isSignInOpen:this.state.isSignInOpen,toggleSignIn:this.toggleSignIn,login:this.props.loginUser,authCheck:this.props.authCheck,toggleSignUp:this.toggleSignUp}),Object(f.jsx)(ue,{isSignupOpen:this.state.isSignupOpen,toggleSignUp:this.toggleSignUp,signup:this.props.signupUser})]})}}]),a}(s.Component);var je=function(){return Object(f.jsxs)("footer",{className:"footer",children:[Object(f.jsxs)("div",{className:"footer-left col-md-4 col-sm-6",children:[Object(f.jsxs)("p",{className:"about",children:[Object(f.jsx)("span",{children:" About the company"})," Ut congue augue non tellus bibendum, in varius tellus condimentum. In scelerisque nibh tortor, sed rhoncus odio condimentum in. Sed sed est ut sapien ultrices eleifend. Integer tellus est, vehicula eu lectus tincidunt, ultricies feugiat leo. Suspendisse tellus elit, pharetra in hendrerit ut, aliquam quis augue. Nam ut nibh mollis, tristique ante sed, viverra massa."]}),Object(f.jsxs)("div",{className:"icons",children:[Object(f.jsx)("a",{href:"facebook.com",children:Object(f.jsx)("i",{className:"fa fa-facebook"})}),Object(f.jsx)("a",{href:"twitter.com",children:Object(f.jsx)("i",{className:"fa fa-twitter"})}),Object(f.jsx)("a",{href:"linkedin.com",children:Object(f.jsx)("i",{className:"fa fa-linkedin"})}),Object(f.jsx)("a",{href:"google.com",children:Object(f.jsx)("i",{className:"fa fa-google-plus"})}),Object(f.jsx)("a",{href:"facebook.com/instagram",children:Object(f.jsx)("i",{className:"fa fa-instagram"})})]})]}),Object(f.jsxs)("div",{className:"footer-center col-md-4 col-sm-6",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("i",{className:"fa fa-map-marker"}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{children:" Street name and number"})," City, Country"]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("i",{className:"fa fa-phone"}),Object(f.jsx)("p",{children:" (+00) 0000 000 000"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("i",{className:"fa fa-envelope"}),Object(f.jsx)("p",{children:Object(f.jsx)("a",{href:"/home",children:" office@company.com"})})]})]}),Object(f.jsxs)("div",{className:"footer-right col-md-4 col-sm-6",children:[Object(f.jsxs)("h2",{children:[" Let's Eat ",Object(f.jsxs)("span",{children:[" ",Object(f.jsx)("img",{src:"/assets/images/logo.png",width:"70px",alt:"Logo"})," "]})]}),Object(f.jsxs)("p",{className:"menu",children:[Object(f.jsx)(u.b,{to:"/home",children:" Home"})," |",Object(f.jsx)(u.b,{to:"/about",children:" About"})," |",Object(f.jsx)(u.b,{to:"/menu",children:" Menu"})," |",Object(f.jsx)(u.b,{to:"/contact",children:" Contact"})]}),Object(f.jsx)("p",{className:"name",children:" Let's Eat \xa9 2018"})]})]})},he=a(198),be=a(56);var fe=function(e){var t=function(e,t,a){return t?Object(f.jsx)(p,{}):null!==a?Object(f.jsxs)("h3",{className:"text-danger",children:[" ",a," "]}):e.map((function(e){return Object(f.jsx)("div",{className:"col-12 col-md-4 mt-3",children:Object(f.jsx)(be.FadeTransform,{in:!0,delay:250,children:Object(f.jsxs)(m.a,{style:{height:"580px"},children:[Object(f.jsx)(j.a,{top:!0,width:"300px",height:"300px",src:x+e.image,alt:e.name}),Object(f.jsxs)(k.a,{children:[Object(f.jsx)(b.a,{tag:"h5",children:e.name}),Object(f.jsx)(he.a,{tag:"h6",className:"mb-2 text-muted",children:e.designation?e.designation:null}),Object(f.jsx)(y.a,{className:"limiText",children:e.description})]})]})})},e._id)}))};return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row",children:t(e.plates,e.platesLoading,e.platesFailed)}),Object(f.jsx)("div",{className:"row",children:t(e.staff,e.staffLoading,e.staffFailed)})]})},pe=a(199);var ge=function(e){var t,a,s;return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-12 col-md-6 mt-5",children:[Object(f.jsx)("h2",{children:"About Us"}),Object(f.jsxs)("div",{className:"pb-3",children:[Object(f.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),Object(f.jsx)("p",{children:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur."}),Object(f.jsx)("p",{children:"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus."})]})]}),Object(f.jsx)("div",{className:"col-12 col-md-6 mt-5",children:Object(f.jsx)("img",{src:"./assets/images/aboutSideImg.jpg",width:"100%",height:"100%",alt:"dish",className:"mobile-img"})})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Our Staff"}),Object(f.jsx)(be.Stagger,{in:!0,delay:150,children:(t=e.staff,a=e.isLoading,s=e.isFailed,a?Object(f.jsx)(p,{}):null!==s?Object(f.jsxs)("h3",{className:"text-danger",children:[" ",s," "]}):t.map((function(e){return Object(f.jsx)(be.Fade,{in:!0,children:Object(f.jsxs)(pe.a,{className:"row mt-3",children:[Object(f.jsx)(pe.a,{left:!0,className:"col-12 col-md-2 col-lg-1 mr-lg-4 mr-md-n3 mr-xl-2 p-1 d-flex justify-content-center justify-content-md-start",children:Object(f.jsx)(pe.a,{object:!0,src:x+e.image,alt:e.name,width:"100px",height:"120px"})}),Object(f.jsxs)(pe.a,{body:!0,className:"col col-md col-lg",children:[Object(f.jsxs)(pe.a,{heading:!0,children:[Object(f.jsxs)("span",{className:"d-flex justify-content-center justify-content-md-start h4",children:[" ",e.name," "]}),Object(f.jsxs)("i",{className:"d-flex justify-content-center justify-content-md-start h5",children:[" ",e.designation," "]})]}),Object(f.jsx)("p",{className:"d-flex justify-content-center justify-content-md-start",children:e.description})]})]})},e._id)})))})]})]})},xe=a(12),Oe=a(30),ve="Post_feedback",Ne="Add_feedback",ke="Feedback_Loading",ye="Feedback_Failed",we="Add_Comments",Ce="Comments_Loading",Se="Comments_Failed",Fe="Post_Comment",Ee="Add_Plates",Le="Plates_Loading",Ie="Plates_Failed",qe="Add_Staff",Pe="Staff_Loading",_e="Staff_Failed",Ae="Req_Login",Me="Login_Success",Te="Login_Failed",De="Req_Logout",Ue="Logout_Success",Re="Post_new_dish_to_wishlist",ze="Add_Favorite",Be="Favorite_Loading",Je="Favorite_Failed",Ye=function(e){return{type:ve,payload:e}},He=function(e){return{type:Ne,payload:e}},Ve=function(){return{type:ke}},We=function(e){return{type:ye,payload:e}},Ge=function(e){return function(t){t($e(!0)),fetch("".concat(x,"plates/").concat(e,"/comments")).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error fetch Comments: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(e){return t(Ze(e))})).catch((function(e){return t(Qe(e.message))}))}},Ze=function(e){return{type:we,payload:e}},$e=function(){return{type:Ce}},Qe=function(e){return{type:Se,payload:e}},Ke=function(e,t,a){return function(s){var n="Bearer "+localStorage.getItem("token"),c={rating:t,comment:a};fetch("".concat(x,"plates/").concat(e,"/comments"),{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:n},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error post Comment: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(e){return s(function(e){return{type:Fe,payload:e}}(e))})).catch((function(e){alert("Your comment couldn't be posted\n"+e.message)}))}},Xe=function(){return function(e){e(tt(!0)),fetch("/plates").then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error fetch Plates: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(t){return e(et(t))})).catch((function(t){return e(at(t.message))}))}},et=function(e){return{type:Ee,payload:e}},tt=function(){return{type:Le}},at=function(e){return{type:Ie,payload:e}},st=function(e){return{type:qe,payload:e}},nt=function(){return{type:Pe}},ct=function(e){return{type:_e,payload:e}},it=function(e){return{type:Ae,payload:e.userInfo}},rt=function(e){return{type:Me,payload:e.token}},lt=function(e){return{type:Te,payload:e}},ot=function(){return{type:De}},dt=function(){return{type:Ue}},ut=function(){return function(e){e(jt());var t="Bearer "+localStorage.getItem("token");fetch("/wishlist",{method:"GET",headers:{"Content-Type":"application/json",Authorization:t},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error fetch WishList: "+e.status+" "+e.statusText)})).then((function(e){return e.json()})).then((function(t){return e(mt(t))})).catch((function(t){return e(ht(t.message))}))}},mt=function(e){return{type:ze,payload:e}},jt=function(){return{type:Be}},ht=function(e){return{type:Je,payload:e}},bt=function(e){return function(t){var a="Bearer "+localStorage.getItem("token");fetch("/wishlist/"+e,{method:"POST",body:JSON.stringify({_id:e}),headers:{"Content-Type":"application/json",Authorization:a},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error post WishList: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(e){t({type:Re}),t(mt(e))})).catch((function(e){alert("Your plate couldn't be added\n"+e.message)}))}},ft=a(67),pt=a(101);function gt(e){if(e.isLoading)return Object(f.jsx)(p,{});if(e.isFailed)return Object(f.jsx)("h5",{className:"text-danger",children:e.isFailed});var t=e.wishlist.likeDish.length>0?e.wishlist.likeDish.map((function(t,a){return Object(f.jsxs)("div",{id:"wish-list-items",className:a%2===0?"row bgLightGray mb-2 p-2":"row bgLight mb-2 p-2",children:[Object(f.jsx)("div",{className:"d-flex align-items-center justify-content-center col-12 col-md-2",children:Object(f.jsx)("img",{className:"rounded",src:x+t.image,width:"100%",height:"110px",alt:t.name})}),Object(f.jsx)("div",{className:"d-flex align-items-center col-12 col-md-3 mt-3 mt-md-0",children:Object(f.jsx)("h4",{className:"mx-auto mx-md-0",children:t.name})}),Object(f.jsx)("div",{className:"d-flex align-items-center col-12 col-md-6",children:Object(f.jsx)("div",{className:"limi-text-wishlist-description",children:t.description})}),Object(f.jsx)("div",{className:"d-flex align-items-center justify-content-center col-12 col-md-1 mt-3 mt-md-0",children:Object(f.jsx)("button",{onClick:function(){return e.deleteFav(t._id)},className:"fa fa-trash fa-lg mb-1 text-danger"})})]},t._id)})):Object(f.jsx)("h5",{className:"text-info text-center my-5",children:"Your wish list is empty"});return Object(f.jsx)("div",{className:"container mt-5",children:t})}a(170);var xt=a(204),Ot=a(205),vt=a(206),Nt=a(5),kt=a.n(Nt),yt=a(200),wt=a(201),Ct=a(202),St=a(203),Ft=a(208);function Et(e){var t=Object(s.useState)({file:"",imgUrl:""}),a=Object(N.a)(t,2),n=a[0],c=a[1],i=Object(de.b)(),r=i.control,l=i.handleSubmit;return Object(f.jsx)(yt.a,{onSubmit:l(e.targetPlate?function(t,a){a.preventDefault();var s=Object.fromEntries(Object.entries(t).filter((function(e){var t=Object(N.a)(e,2);t[0];return void 0!==t[1]})));if(Object.keys(s).length>0){if(s.image){s.image="images/"+s.image.split("\\")[2];var c=new FormData;c.append("image",n.file),e.uploadImage(c)}e.updatePlate(e.targetPlate._id,s)}else Object(O.flash)(Object(f.jsxs)("div",{className:"alert alert-info alert-dismissible fade show",role:"alert",children:[Object(f.jsx)("strong",{children:"Info: "})," Nothing was edited.",Object(f.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),9e3)}:function(t,a){var s=new FormData;s.append("image",n.file),e.uploadImage(s),t.image=n.file,e.postNewPlate(t),c({file:"",imgUrl:""})}),children:Object(f.jsxs)(P.a,{children:[Object(f.jsxs)(wt.a,{children:[Object(f.jsxs)(Ct.a,{children:[Object(f.jsx)(_.a,{for:"dishName",children:"Name"}),Object(f.jsx)(de.a,{control:r,name:"name",render:function(t){var a=t.field;return Object(f.jsx)(St.a,{placeholder:"Dish name",onChange:function(e){return a.onChange(e)},required:!0,defaultValue:e.targetPlate?e.targetPlate.name:null})}})]}),Object(f.jsxs)(Ct.a,{children:[Object(f.jsx)(_.a,{for:"dishPrice",children:"Price"}),Object(f.jsx)(de.a,{control:r,name:"price",render:function(t){var a=t.field;return Object(f.jsx)(St.a,{placeholder:"Dish price",onChange:function(e){return a.onChange(e)},required:!0,defaultValue:e.targetPlate?e.targetPlate.price:null})}})]}),Object(f.jsxs)(Ct.a,{children:[Object(f.jsx)(_.a,{for:"dishDescription",children:"Description"}),Object(f.jsx)(de.a,{control:r,name:"description",render:function(t){var a=t.field;return Object(f.jsx)(St.a,{type:"textarea",placeholder:"Dish description",onChange:function(e){return a.onChange(e)},rows:"8",required:!0,defaultValue:e.targetPlate?e.targetPlate.description:null})}})]}),Object(f.jsxs)(Ct.a,{children:[Object(f.jsx)(_.a,{for:"featured",children:"Featured"}),Object(f.jsx)(de.a,{control:r,name:"featured",render:function(t){var a=t.field;return Object(f.jsx)(Ft.a,{type:"switch",onChange:function(e){return a.onChange(e)},label:"Featured plate?",id:e.targetPlate?"featuredUpdate":"featured",defaultChecked:e.targetPlate?e.targetPlate.featured:null})}})]})]}),Object(f.jsxs)(wt.a,{children:[Object(f.jsx)(P.a,{children:Object(f.jsx)(wt.a,{children:Object(f.jsxs)(Ct.a,{children:[Object(f.jsx)(_.a,{for:"dishImage",children:"Dish image"}),Object(f.jsx)(de.a,{control:r,name:"image",render:function(t){var a=t.field;return Object(f.jsx)(Ft.a,{type:"file",onChange:function(e){a.onChange(e),function(e){e.preventDefault();var t=new FileReader,a=e.target.files[0];t.onloadend=function(){c(Object(oe.a)(Object(oe.a)({},n),{},{file:a,imgUrl:t.result}))},t.readAsDataURL(a)}(e)},label:e.targetPlate?e.targetPlate.image.split("/")[1]:"Choose an image for this dish",id:"image",style:{cursor:"pointer"},required:!e.targetPlate})}})]})})}),Object(f.jsx)(P.a,{children:Object(f.jsx)(wt.a,{className:"d-flex justify-content-center align-items-center",style:{height:"357px"},children:""!==n.imgUrl?Object(f.jsx)("img",{className:"img-prev",src:n.imgUrl,alt:"previewImage",height:"95%",width:"95%"}):Object(f.jsx)("img",{alt:"imagePlaceholder",height:"95%",width:"95%",className:"img-prev",src:e.targetPlate?x+e.targetPlate.image:"https://montverde.org/wp-content/themes/eikra/assets/img/noimage-420x273.jpg"})})}),Object(f.jsx)(P.a,{children:Object(f.jsx)(wt.a,{children:e.targetPlate?Object(f.jsx)(St.a,{type:"submit",value:"Update Dish",className:"btn btn-outline-warning"}):Object(f.jsx)(St.a,{type:"submit",value:"Post Dish",className:"btn btn-outline-dark"})})})]})]})})}a(171);function Lt(e){var t=Object(s.useState)(!1),a=Object(N.a)(t,2),n=a[0],c=a[1],i=function(){return c(!n)},r=Object(s.useState)(null),l=Object(N.a)(r,2),o=l[0],d=l[1],u=Object(s.useState)([]),m=Object(N.a)(u,2),j=m[0],h=m[1],b=Object(s.useState)([]),g=Object(N.a)(b,2),O=g[0],v=g[1],k=Object(s.useState)(!1),y=Object(N.a)(k,2),w=y[0],C=y[1],S=function(t,a){Object(Y.confirmAlert)({customUI:function(s){var n=s.onClose;return Object(f.jsxs)("div",{className:"custom-ui",children:[Object(f.jsx)("h3",{children:"Are you sure?"}),Object(f.jsx)("p",{className:"text-danger",children:"You want to delete this dish?"}),Object(f.jsx)("button",{onClick:n,children:"No, Cancel"}),Object(f.jsx)("button",{className:"text-danger",onClick:function(){e.deletePlate(t),e.deleteImage(a),n()},children:"Yes, Delete!"})]})}})};if(e.isLoadign)return Object(f.jsx)(p,{});if(null!==e.isFailed&&"Dishes deleted successfully"!==e.isFailed&&"Dish updated successfully"!==e.isFailed)return Object(f.jsxs)("h3",{className:"text-danger",children:[" ",e.isFailed," "]});var F=e.plates.map((function(e){var t=e.createdAt.split("-"),a=new Date(t[0],t[1]-1,t[2].slice(0,2)).toDateString(),s=e.updatedAt.split("-"),n=new Date(s[0],s[1]-1,s[2].slice(0,2)).toDateString();return Object(f.jsxs)("tr",{children:[Object(f.jsxs)("td",{children:[Object(f.jsx)("img",{src:x+e.image,alt:e.name,width:"50px",height:"50px"}),Object(f.jsx)("span",{className:"user-link limit-carac",children:e.name})]}),Object(f.jsx)("td",{className:"text-center",children:a}),Object(f.jsx)("td",{className:"text-center",children:n}),Object(f.jsxs)("td",{className:"text-center",style:{width:"20%"},children:[Object(f.jsx)("a",{className:"table-link",children:Object(f.jsxs)("span",{className:"fa-stack",children:[Object(f.jsx)("i",{className:"fa fa-square fa-stack-2x"}),Object(f.jsx)("i",{onClick:function(){d(e),i()},className:"fa fa-pencil fa-stack-1x fa-inverse"})]})}),Object(f.jsx)("a",{className:"table-link danger",children:Object(f.jsxs)("span",{className:"fa-stack",children:[Object(f.jsx)("i",{className:"fa fa-square fa-stack-2x"}),Object(f.jsx)("i",{onClick:function(){return S([e._id],[e.image])},className:"fa fa-trash-o fa-stack-1x fa-inverse"})]})}),Object(f.jsx)("input",{checked:O.includes(e._id),onChange:function(t){return function(e,t,a){e.target.checked?(v([].concat(Object(M.a)(O),[t])),h([].concat(Object(M.a)(j),[a]))):v(O.filter((function(e){return e!==t})))}(t,e._id,e.image)},type:"checkbox"})]})]},e._id)}));return Object(f.jsxs)("div",{id:"update-plate-table",className:"container",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-lg-12",children:Object(f.jsx)("div",{className:"main-box clearfix",children:Object(f.jsx)("div",{className:"table-responsive",children:Object(f.jsxs)("table",{className:"table user-list",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:Object(f.jsx)("span",{children:"Name"})}),Object(f.jsx)("th",{className:"text-center",children:Object(f.jsx)("span",{children:"Created"})}),Object(f.jsx)("th",{className:"text-center",children:Object(f.jsx)("span",{children:"Updated"})}),Object(f.jsxs)("th",{className:"text-center",children:[Object(f.jsx)("span",{children:"Select all"}),Object(f.jsx)("input",{checked:e.plates.length===O.length,onChange:function(){return C(!w),v(e.plates.map((function(e){return e._id}))),h(e.plates.map((function(e){return e.image}))),void(w&&v([]))},type:"checkbox"})]})]})}),Object(f.jsx)("tbody",{children:F})]})})})})}),Object(f.jsx)("div",{className:"d-flex justify-content-end mr-5",children:Object(f.jsxs)("button",{onClick:function(){return S(O,j)},disabled:0===O.length,className:"btn btn-danger",children:["Remove",Object(f.jsx)("span",{className:"badge badge-light ml-1",children:O.length})]})}),Object(f.jsx)("div",{style:{zIndex:"9888"},children:Object(f.jsxs)(L.a,{id:"update-plate-model",backdrop:!0,size:"xl",isOpen:n,modalTransition:{timeout:600},backdropTransition:{timeout:200},toggle:i,children:[Object(f.jsx)(I.a,{toggle:i,children:Object(f.jsxs)("span",{children:["Updating ",Object(f.jsx)("span",{className:"text-warning",children:o?o.name:null})]})}),Object(f.jsx)(q.a,{className:"py-3",children:Object(f.jsx)(Et,{targetPlate:o,updatePlate:e.updatePlate,uploadImage:e.uploadImage})})]})})]})}function It(e){var t=Object(s.useState)("1"),a=Object(N.a)(t,2),n=a[0],c=a[1],i=function(e){n!==e&&c(e)},r=Object(s.useState)(null),l=Object(N.a)(r,2),o=l[0],d=l[1];return Object(s.useEffect)((function(){null!==e.isFailed&&"Dish name is already exist"===e.isFailed?Object(O.flash)(Object(f.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[Object(f.jsx)("strong",{children:"Failed to post: "})," ",e.isFailed,".",Object(f.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),9e3):(null!==e.isFailed&&"Dish added successfully"===e.isFailed||null!==e.isFailed&&"Dishes deleted successfully"===e.isFailed||null!==e.isFailed&&"Dish updated successfully"===e.isFailed)&&Object(O.flash)(Object(f.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[Object(f.jsx)("strong",{children:"Success: "})," ",e.isFailed,".",Object(f.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),9e3)}),[e.isFailed]),Object(f.jsx)("div",{className:"dashboard container",children:Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsxs)("nav",{id:"sidebar",className:o,children:[Object(f.jsxs)("div",{className:"sidebar-header",children:[Object(f.jsx)("h3",{children:"Let's Eat"}),Object(f.jsx)("h5",{children:"Admin Panel"})]}),Object(f.jsxs)("ul",{className:"list-unstyled components",children:[Object(f.jsx)("p",{children:"Dashboard"}),Object(f.jsxs)("li",{children:[Object(f.jsx)("a",{href:"#plateSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:"Plates"}),Object(f.jsxs)("ul",{className:"collapse list-unstyled",id:"plateSubmenu",children:[Object(f.jsx)("li",{children:Object(f.jsx)(xt.a,{className:kt()({active:"1"===n}),onClick:function(){i("1")},children:"Add New Plate"})}),Object(f.jsx)("li",{children:Object(f.jsx)(xt.a,{className:kt()({active:"2"===n}),onClick:function(){i("2")},children:"Edit/Delete Plate"})})]})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("a",{href:"#staffSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:"Staff"}),Object(f.jsxs)("ul",{className:"collapse list-unstyled",id:"staffSubmenu",children:[Object(f.jsx)("li",{children:Object(f.jsx)(xt.a,{className:kt()({active:"4"===n}),onClick:function(){return i("4")},children:"Add New Staff"})}),Object(f.jsx)("li",{children:Object(f.jsx)(xt.a,{className:kt()({active:"5"===n}),onClick:function(){return i("5")},children:"Edit/Delete Staff"})})]})]}),Object(f.jsx)("li",{children:Object(f.jsx)(xt.a,{className:kt()({active:"7"===n}),onClick:function(){return i("7")},children:"Notifications"})}),Object(f.jsx)("li",{children:Object(f.jsx)(xt.a,{className:kt()({active:"8"===n}),onClick:function(){return i("8")},children:"Users"})}),Object(f.jsx)("li",{children:Object(f.jsxs)(xt.a,{onClick:function(){return e.logoutUser()},className:"text-danger",children:[" ",Object(f.jsx)("i",{className:"fa fa-sign-out","aria-hidden":"true"})," Logout"]})})]})]}),Object(f.jsxs)("div",{id:"content",className:o,children:[Object(f.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(f.jsxs)("div",{className:"container-fluid",children:[Object(f.jsx)("button",{style:{position:"fixed",top:"21px",zIndex:"999"},type:"button",onClick:function(){d(null===o?"active":null)},className:"btn handleCollapseBtn",children:Object(f.jsx)("i",{className:o?"fa fa-align-left":"fa fa-times"})}),Object(f.jsx)("div",{style:{zIndex:"9999"},children:Object(f.jsx)(O.Flasher,{position:"top_right"})})]})}),Object(f.jsxs)(Ot.a,{activeTab:n,children:[Object(f.jsx)(vt.a,{tabId:"1",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(Et,{postNewPlate:e.postNewPlate,uploadImage:e.uploadImage,isLoading:e.isLoading,isFailed:e.isFailed})})}),Object(f.jsx)(vt.a,{tabId:"2",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(Lt,{plates:e.plates,isLoading:e.isLoading,isFailed:e.isFailed,deletePlate:e.deletePlate,updatePlate:e.updatePlate,uploadImage:e.uploadImage,deleteImage:e.deleteImage})})}),Object(f.jsx)(vt.a,{tabId:"3",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("h1",{children:"Add new staff"})})}),Object(f.jsx)(vt.a,{tabId:"4",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("h1",{children:"Edit or Delete staff"})})}),Object(f.jsx)(vt.a,{tabId:"5",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("h1",{children:"Notifications"})})}),Object(f.jsx)(vt.a,{tabId:"6",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("h1",{children:"Users"})})})]})]})]})})}var qt=Object(xe.i)(Object(Oe.connect)((function(e){return{plates:e.plates,staff:e.staff,comments:e.comments,feedback:e.feedback,auth:e.auth,wishlist:e.wishlist}}),(function(e){return{fetchComments:function(t){e(Ge(t))},postComment:function(t,a,s){e(Ke(t,a,s))},deleteComment:function(t,a){e(function(e,t){return function(a){var s="Bearer "+localStorage.getItem("token");fetch("".concat(x,"plates/").concat(e,"/comments/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error delete Comment: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(){return a(Ge(e))})).catch((function(e){alert("Your comment couldn't be deleted\n"+e.message)}))}}(t,a))},updateComment:function(t,a,s){e(function(e,t,a){return function(s){var n="Bearer "+localStorage.getItem("token");fetch("".concat(x,"plates/").concat(e,"/comments/").concat(t),{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:n},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Comment could not be updated:\n "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error update Comment: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(){return s(Ge(e))})).catch((function(e){return s(Qe(e.message))}))}}(t,a,s))},postFeedback:function(t){e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token"),s=!!localStorage.getItem("token"),n=s?e:{guestAuthor:{firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone},feedback:e.feedback};fetch(x+(s?"feedback":"feedback/guest"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:a},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error post Feedback: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(e){return t(Ye(e))})).catch((function(e){alert("Error:\n"+e.message)}))}}(t))},fetchFeedback:function(){e((function(e){e(Ve(!0)),fetch("/feedback").then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error fetch Feedback: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(t){return e(He(t))})).catch((function(t){return e(We(t.message))}))}))},resetFeedbackForm:function(){e(A.actions.reset("feedbackx"))},fetchPlates:function(){e(Xe())},postNewPlate:function(t){e(function(e){return function(t){t(tt(!0)),e.image="images/".concat(e.image.name);var a="Bearer "+localStorage.getItem("token");fetch("/plates/",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:a},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error(e.message);t(at(e.message))}),(function(e){throw new Error("Error post Plate: "+e.message+" (Cannot connect to the server)")})).then((function(){return t(Xe())})).catch((function(e){return t(at(e.message))}))}}(t))},deletePlate:function(t){e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token");fetch("/plates/",{method:"DELETE",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:a},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error("Dish could not be deleted");t(at(e.message))}),(function(e){throw new Error("Error delete Plate: "+e.message+" (Cannot connect to the server)")})).then((function(){return t(Xe())})).catch((function(e){return t(at(e.message))}))}}(t))},updatePlate:function(t,a){e(function(e,t){return function(a){var s="Bearer "+localStorage.getItem("token");fetch("/plates/"+e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error("Dish could not be updated");a(at(e.message))}),(function(e){throw new Error("Error update Plate: "+e.message+" (Cannot connect to the server)")})).then((function(){return a(Xe())})).catch((function(e){return a(at(e.message))}))}}(t,a))},fetchStaff:function(){e((function(e){e(nt(!0)),fetch("/staff").then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error fetch Staff: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(t){return e(st(t))})).catch((function(t){return e(ct(t.message))}))}))},handleLogin:function(t){e(function(e){return function(t){fetch("/users/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(!e.success){var a=new Error(e.err);throw a.res=e,a}localStorage.setItem("token",e.token),localStorage.setItem("userInfo",JSON.stringify(e.userInfo)),t(it(e)),t(ut()),setTimeout((function(){t(rt(e))}),3e3)})).catch((function(e){return t(lt(e.message))}))}}(t))},handleLogout:function(){e((function(e){e(ot()),localStorage.removeItem("token"),localStorage.removeItem("userInfo"),setTimeout((function(){e(dt())}),3e3)}))},handleSignup:function(t){e(function(e){return function(t){fetch("/users/signup",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Signup Error: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(a){console.log(e);var s={username:e.username,password:e.password};fetch("/users/login",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.res=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){if(!e.success){var a=new Error("Error "+e.status);throw a.res=e,a}localStorage.setItem("token",e.token),localStorage.setItem("userInfo",JSON.stringify(e.userInfo)),t(it(e)),t(ut()),t(rt(e))})).catch((function(e){return t(lt(e.message))}))}))}}(t))},fetchWishList:function(){e(ut())},postLikeDish:function(t){e(bt(t))},deleteLikeDish:function(t){e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token");fetch("/wishlist/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:a},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error deleteWishList: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(e){return t(mt(e))})).catch((function(e){alert("Your plate couldn't be deleted\n"+e.message)}))}}(t))},uploadImage:function(t){e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token");fetch("/uploadimg",{method:"POST",body:e,headers:{Authorization:a},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error post image: "+e.message+" (Cannot connect to the server)")})).catch((function(e){alert("image couldn't be posted\n"+e.message)}))}}(t))},deleteImage:function(t){e(function(e){return function(t){var a="Bearer "+localStorage.getItem("token");fetch("/uploadimg/delete",{method:"DELETE",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:a},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error delete image: "+e.message+" (Cannot connect to the server)")})).catch((function(e){alert("image couldn't be deleted\n"+e.message)}))}}(t))}}}))((function(e){var t=Object(xe.g)(),a=Object(xe.h)(),n=a.pathname.split("/")[2];return Object(s.useEffect)((function(){e.fetchPlates(),e.fetchFeedback(),e.fetchStaff(),e.auth.isAuthenticated&&e.fetchWishList()}),[]),Object(s.useEffect)((function(){if(void 0===n)return null;e.fetchComments(n)}),[n]),Object(s.useEffect)((function(){e.auth.user&&e.auth.user.admin&&t.push("/admin")}),[e.auth]),Object(s.useEffect)((function(){V()(document).ready((function(){V()("#success-alert").hide(),V()("#success-alert").fadeTo(5e3,500).slideUp(500,(function(){V()("#success-alert").slideUp(500)}))}))}),[e.auth.isAuthenticated]),"/admin"!==a.pathname?Object(f.jsxs)(f.Fragment,{children:[e.auth.isAuthenticated?Object(f.jsxs)("div",{id:"success-alert",className:"alert alert-success text-center mb-0",children:[Object(f.jsx)("strong",{children:"Success!"})," Welcome back ",Object(f.jsx)("b",{children:e.auth.user.firstname+" "+e.auth.user.lastname})]}):null,Object(f.jsx)(me,{authCheck:e.auth,loginUser:e.handleLogin,logoutUser:e.handleLogout,signupUser:e.handleSignup}),Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(ft.a,{children:Object(f.jsx)(pt.a,{timeout:300,classNames:"page",children:Object(f.jsxs)(xe.d,{children:[Object(f.jsx)(xe.b,{path:"/home",component:function(){return Object(f.jsx)(fe,{plates:e.plates.plates.filter((function(e){return e.featured})),platesLoading:e.plates.loading,platesFailed:e.plates.errMsg,staff:e.staff.staff.filter((function(e){return e.featured})),staffLoading:e.staff.loading,staffFailed:e.staff.errMsg})}}),Object(f.jsx)(xe.b,{exact:!0,path:"/menu",component:function(){return Object(f.jsx)(v,{plates:e.plates.plates,isLoading:e.plates.loading,isFailed:e.plates.errMsg,deleteFav:e.deleteLikeDish,postLikeDish:e.postLikeDish,authCheck:e.auth,success:e.wishlist.success,favFound:!(!e.auth.isAuthenticated||null===e.wishlist.wishlist||void 0===e.wishlist.wishlist.likeDish)&&e.wishlist.wishlist.likeDish})}}),Object(f.jsx)(xe.b,{exact:!0,path:"/menu/:plateId",component:function(t){var a=t.match;return Object(f.jsx)(W,{plate:e.plates.plates.filter((function(e){return e._id===a.params.plateId}))[0],isLoading:e.plates.loading,isFailed:e.plates.errMsg,postLikeDish:e.postLikeDish,deleteFav:e.deleteLikeDish,authCheck:e.auth,comments:e.comments.comments,commentsLoading:e.comments.loading,commentsFailed:e.comments.errMsg,postComment:e.postComment,deleteComment:e.deleteComment,updateComment:e.updateComment,favFound:!(!e.auth.isAuthenticated||null===e.wishlist.wishlist||void 0===e.wishlist.wishlist.likeDish)&&e.wishlist.wishlist.likeDish.some((function(e){return e._id===a.params.plateId}))})}}),Object(f.jsx)(xe.b,{path:"/contact",component:function(){return Object(f.jsx)(B,{resetForm:e.resetFeedbackForm,postFeedback:e.postFeedback,feedback:e.feedback.feedback,isLoading:e.feedback.loading,isFailed:e.feedback.errMsg,authCheck:e.auth})}}),Object(f.jsx)(xe.b,{path:"/about",component:function(){return Object(f.jsx)(ge,{staff:e.staff.staff,isLoading:e.staff.loading,isFailed:e.staff.errMsg})}}),Object(f.jsx)(xe.b,{path:"/wishlist",component:function(){return Object(f.jsx)(gt,{wishlist:e.wishlist.wishlist,isLoading:e.wishlist.loading,isFailed:e.wishlist.errMsg,deleteFav:e.deleteLikeDish})}}),Object(f.jsx)(xe.a,{to:"/home"})]})},e.location.key)})}),Object(f.jsx)(je,{})]}):Object(f.jsx)(xe.d,{children:Object(f.jsx)(xe.b,{path:e.auth.user&&e.auth.user.admin?"/admin":"/home",component:function(){return Object(f.jsx)(It,{postNewPlate:e.postNewPlate,logoutUser:e.handleLogout,uploadImage:e.uploadImage,deleteImage:e.deleteImage,plates:e.plates.plates,isLoading:e.plates.loading,isFailed:e.plates.errMsg,deletePlate:e.deletePlate,updatePlate:e.updatePlate})}})})}))),Pt=a(31),_t=a(105),At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,errMsg:null,feedback:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!1,errMsg:null,feedback:t.payload});case ke:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!0,errMsg:null,feedback:[]});case ye:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!1,errMsg:t.payload,feedback:[]});case ve:return Object(oe.a)(Object(oe.a)({},e),{},{feedback:e.feedback.concat(t.payload)});default:return e}},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,errMsg:null,comments:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!1,errMsg:null,comments:t.payload});case Ce:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!0,errMsg:null,comments:[]});case Se:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!1,errMsg:t.payload,comments:[]});case Fe:return Object(oe.a)(Object(oe.a)({},e),{},{comments:t.payload});default:return e}},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,errMsg:null,plates:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!1,errMsg:null,plates:t.payload});case Le:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!0,errMsg:null,plates:[]});case Ie:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!1,errMsg:t.payload,plates:[]});default:return e}},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,errMsg:null,staff:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!1,errMsg:null,staff:t.payload});case Pe:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!0,errMsg:null,staff:[]});case _e:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!1,errMsg:t.payload,staff:[]});default:return e}},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token"),user:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,errMsg:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:!0,isAuthenticated:!1,user:t.payload});case Me:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:!1,isAuthenticated:!0,token:t.payload});case Te:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:!1,isAuthenticated:!1,errMsg:t.payload});case De:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:!0,isAuthenticated:!0});case Ue:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:!1,isAuthenticated:!1,token:"",user:null});default:return e}},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,errMsg:null,success:!1,wishlist:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!1,errMsg:null,wishlist:t.payload,success:!1});case Re:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!1,errMsg:null,success:!0});case Be:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!0,errMsg:null,wishlist:[],success:!1});case Je:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!1,errMsg:t.payload,wishlist:[],success:!1});default:return e}},zt=Object(Pt.createStore)(Object(Pt.combineReducers)(Object(oe.a)({plates:Tt,staff:Dt,comments:Mt,auth:Ut,wishlist:Rt,feedback:At},Object(A.createForms)({feedbackx:""}))),Object(Pt.applyMiddleware)(_t.a)),Bt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsx)(Oe.Provider,{store:zt,children:Object(f.jsx)(u.a,{children:Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(qt,{})})})})}}]),a}(s.Component),Jt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,209)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(f.jsx)(n.a.Fragment,{children:Object(f.jsx)(Bt,{})}),document.getElementById("root")),Jt()}},[[172,1,2]]]);
//# sourceMappingURL=main.d2912e82.chunk.js.map